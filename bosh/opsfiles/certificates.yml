# Used
- type: remove
  path: /variables/name=eventgenerator_client_cert/options/duration?
- type: remove
  path: /variables/name=eventgenerator_server_cert/options/duration?
- type: remove
  path: /variables/name=loggregator_agent_metrics_tls/options/duration?
- type: remove
  path: /variables/name=scalingengine_client_cert/options/duration?
- type: remove
  path: /variables/name=scalingengine_server_cert/options/duration?
- type: remove
  path: /variables/name=scheduler_client_cert/options/duration?
- type: remove
  path: /variables/name=scheduler_server_cert/options/duration?
- type: replace
  path: /variables/name=app_autoscaler_ca_cert/options/duration?
  value: 3650
- type: replace
  path: /variables/name=metric_scraper_ca/options/duration?
  value: 3650
# Not used, but covering bases
- type: remove
  path: /variables/name=apiserver_server_cert/options/duration?
- type: remove
  path: /variables/name=loggr_syslog_agent_cache_tls/options/duration?
- type: remove
  path: /variables/name=loggr_syslog_agent_metrics/options/duration?
- type: remove
  path: /variables/name=loggr_syslog_agent_tls/options/duration?
- type: remove
  path: /variables/name=loggr_syslog_binding_cache_api_tls/options/duration?
- type: remove
  path: /variables/name=loggr_syslog_binding_cache_metrics/options/duration?
- type: remove
  path: /variables/name=loggr_syslog_binding_cache_tls/options/duration?
- type: remove
  path: /variables/name=metricsforwarder_autoscaler_metricsforwarder_loggregator_tls/options/duration?
- type: remove
  path: /variables/name=servicebroker_server_cert/options/duration?


# Add certs for operator and metricsforwarder for route_registrar
- type: replace
  path: /variables/-
  value:
    name: operator_server_cert
    options:
      alternative_names:
      - app-autoscaler.operator.service.cf.internal
      ca: app_autoscaler_ca_cert
      common_name: app-autoscaler.operator.service.cf.internal
      extended_key_usage:
      - client_auth
      - server_auth
      key_length: 4096
    type: certificate
    update_mode: converge

- type: replace
  path: /variables/-
  value:
    name: metricsforwarder_server_cert
    options:
      alternative_names:
      - app-autoscaler.metricsforwarder.service.cf.internal
      ca: app_autoscaler_ca_cert
      common_name: app-autoscaler.metricsforwarder.service.cf.internal
      extended_key_usage:
      - client_auth
      - server_auth
      key_length: 4096
    type: certificate
    update_mode: converge